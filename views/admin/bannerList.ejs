<%- include('../partials/adminHeader') %>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.1.4/dist/sweetalert2.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/2.1.2/sweetalert.min.js" integrity="sha512-AA1Bzp5Q0K1KanKKmvN/4d3IRKVlv9PYgwFPvm32nPO6QS8yH1HO7LbgB1pgiOxPtfeg5zEn2ba64MUcqJx6CA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/2.0.4/sweetalert.min.js" integrity="sha512-qRxCxazspAb0wPyE3k8R3mMLnxhNAyeiOMmGKPyVFJuRGlG3a7sd/xOWOLaSTJv1L4pihoPn+AO5vR2svVSE6g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.1.4/dist/sweetalert2.min.css">
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>

<script src ="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.20/dist/sweetalert2.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.1.4/dist/sweetalert2.min.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>


        <section class="content-main">
            <div class="content-header">
                <div>
                    <h2 class="content-title card-title">Banner Management</h2>

                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <div class="card mb-4">
                        <header class="card-header">
                            <div class="row gx-3">
                                <div class="col-lg-4 col-md-6 me-auto">
                                    <input type="text" placeholder="Search..." class="form-control">
                                </div>
                                <div class="col-lg-2 col-md-3 col-6">
                                    <select class="form-select">
                                        <option>Status</option>
                                        <option>Active</option>
                                        <option>Disabled</option>
                                        <option>Show all</option>
                                    </select>
                                </div>
                                <div class="col-lg-2 col-md-3 col-6">
                                    <select class="form-select">
                                        <option>Show 20</option>
                                        <option>Show 30</option>
                                        <option>Show 40</option>
                                    </select>
                                </div>
                            </div>
                        </header> <!-- card-header end// -->
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table table-hover table-sm" style="font-size: 14px;">
                                    <thead>
                                        <tr>
                                            <th style="padding: 0.5rem;">No.</th>
                                            <th style="padding: 0.5rem;">Offer Title</th>
                                            <th style="padding: 0.5rem;">Heading-1</th>
                                            <th style="padding: 0.5rem;">Heading-2</th>
                                            <th style="padding: 0.5rem;">Bottom Line</th>                                         
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <% let k=1 %>
                                        <% for(let i=0;i<bannerList.length;i++) { %>
                                        <tr>
                                            <td style="padding: 0.5rem;"><%=k%></td>                        
                                            <% k++ %>
                                            <td style="padding: 0.5rem;"><%=bannerList[i].offerTitle%></td> 
                                            <td style="padding: 0.5rem;"><%=bannerList[i].heading1%></td> 
                                            <td style="padding: 0.5rem;"><b><%=bannerList[i].heading2%>%</b></td>
                                            <td style="padding: 0.5rem;"><%=bannerList[i].bottomline%></td>
                                            <td>
                                                <div class="dropdown">
                                                    <a href="#" data-bs-toggle="dropdown" class="btn btn-light rounded btn-sm font-sm"> <i class="material-icons md-more_horiz"></i> </a>
                                                    <div class="dropdown-menu">
                                                        <a class="dropdown-item" href="/admin/bannerEdit?id=<%=bannerList[i]._id%>">Edit info</a>
                                                        <a  class="dropdown-item text-danger delete-banner" href="?id=<%=bannerList[i]._id%>" data-banner-id="<%=bannerList[i]._id%>">Delete</a>
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                        <%}%>                                     
                                    </tbody>
                                </table>
                            </div>
                            </div>
                            <script>
                                // Listen for click events on the delete coupon links
                $('.delete-banner').on('click', function(e) {
                  e.preventDefault(); // Prevent the default link behavior
                
                  var bannerId = $(this).data('banner-id'); // Get the coupon ID from the data attribute
                
                  // Show a confirmation dialog using SweetAlert
                  swal.fire({
                  title: 'Are you sure?',
                  text: 'This action cannot be undone.',
                  icon: 'warning',
                  showCancelButton: true,
                  confirmButtonText: 'Yes, delete it!',
                  cancelButtonText: 'No, cancel!',
                  confirmButtonColor: '#3085d6',
                  cancelButtonColor: '#d33'
                }).then( (result)=> {
                    // User confirmed deletion, send AJAX request to server
                    if (result.value) {
                    $.ajax({
                      url: '/admin/bannerDelete',
                      type: 'GET',
                      data: { id: bannerId },
                      success: function(response) {
                        // Deletion successful, redirect to new page
                        window.location.replace('/admin/bannerList');
                      },
                      error: function(xhr, status, error) {
                        // Handle errors here
                        swal('Oops...', 'Something went wrong!', 'error');
                      }
                    });
                  }else {
                    // User clicked cancel, do nothing
                    swal('Cancelled', 'Your deletion request has been cancelled', 'info');
                  } 
                });
                });
                
                            </script>
                    </div> <!-- card end// -->
                </div>
                <!-- <div class="col-md-3">
                    <div class="card mb-4">
                        <div class="card-body">
                            <h5 class="mb-3">Filter by</h5>
                            <form>
                                <div class="mb-4">
                                    <label for="order_id" class="form-label">Order ID</label>
                                    <input type="text" placeholder="Type here" class="form-control" id="order_id">
                                </div>
                                <div class="mb-4">
                                    <label for="order_customer" class="form-label">Customer</label>
                                    <input type="text" placeholder="Type here" class="form-control" id="order_customer">
                                </div>
                                <div class="mb-4">
                                    <label class="form-label">Order Status</label>
                                    <select class="form-select">
                                        <option>Published</option>
                                        <option>Draft</option>
                                    </select>
                                </div>
                                <div class="mb-4">
                                    <label for="order_total" class="form-label">Total</label>
                                    <input type="text" placeholder="Type here" class="form-control" id="order_total">
                                </div>
                                <div class="mb-4">
                                    <label for="order_created_date" class="form-label">Date Added</label>
                                    <input type="text" placeholder="Type here" class="form-control" id="order_created_date">
                                </div>
                                <div class="mb-4">
                                    <label for="order_modified_date" class="form-label">Date Modified</label>
                                    <input type="text" placeholder="Type here" class="form-control" id="order_modified_date">
                                </div>
                                <div class="mb-4">
                                    <label for="order_customer_1" class="form-label">Customer</label>
                                    <input type="text" placeholder="Type here" class="form-control" id="order_customer_1">
                                </div>
                            </form>
                        </div>
                    </div> 
                </div> -->
            </div>
            <div class="pagination-area mt-15 mb-50">
                <nav aria-label="Page navigation example">
                    <ul class="pagination justify-content-start">
                        <li class="page-item active"><a class="page-link" href="#">01</a></li>
                        <li class="page-item"><a class="page-link" href="#">02</a></li>
                        <li class="page-item"><a class="page-link" href="#">03</a></li>
                        <li class="page-item"><a class="page-link dot" href="#">...</a></li>
                        <li class="page-item"><a class="page-link" href="#">16</a></li>
                        <li class="page-item"><a class="page-link" href="#"><i class="material-icons md-chevron_right"></i></a></li>
                    </ul>
                </nav>
            </div>
            <script>
                // Listen for click events on the delete coupon links
$('.delete-coupon').on('click', function(e) {
  e.preventDefault(); // Prevent the default link behavior

  var couponId = $(this).data('coupon-id'); // Get the coupon ID from the data attribute

  // Show a confirmation dialog using SweetAlert
  swal.fire({
  title: 'Are you sure?',
  text: 'This action cannot be undone.',
  icon: 'warning',
  showCancelButton: true,
  confirmButtonText: 'Yes, delete it!',
  cancelButtonText: 'No, cancel!',
  confirmButtonColor: '#3085d6',
  cancelButtonColor: '#d33'
}).then( (result)=> {
    // User confirmed deletion, send AJAX request to server
    if (result.value) {
    $.ajax({
      url: '/admin/deleteCoupon',
      type: 'POST',
      data: { id: couponId },
      success: function(response) {
        // Deletion successful, redirect to new page
        window.location.replace('/admin/couponlist');
      },
      error: function(xhr, status, error) {
        // Handle errors here
        swal('Oops...', 'Something went wrong!', 'error');
      }
    });
  }else {
    // User clicked cancel, do nothing
    swal('Cancelled', 'Your deletion request has been cancelled', 'info');
  } 
});
});

            </script>
        </section> <!-- content-main end// -->
        <footer class="main-footer font-xs">
            <div class="row pb-30 pt-15">
                <div class="col-sm-6">
                    <script>
                    document.write(new Date().getFullYear())
                    </script> ©, Evara - HTML Ecommerce Template .
                </div>
                <div class="col-sm-6">
                    <div class="text-sm-end">
                        All rights reserved
                    </div>
                </div>
            </div>
        </footer>
    </main>
    <script src="assets/js/vendors/jquery-3.6.0.min.js"></script>
    <script src="assets/js/vendors/bootstrap.bundle.min.js"></script>
    <script src="assets/js/vendors/select2.min.js"></script>
    <script src="assets/js/vendors/perfect-scrollbar.js"></script>
    <script src="assets/js/vendors/jquery.fullscreen.min.js"></script>
    <!-- Main Script -->
    <script src="assets/js/main.js" type="text/javascript"></script>
</body>


<!-- Mirrored from wp.alithemes.com/html/evara/evara-backend/page-orders-2.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 01 Aug 2021 15:33:22 GMT -->
</html>